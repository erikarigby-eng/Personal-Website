<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 10 Books</title>
    <style>
        :root {
            --deep-purple-gray: #493843;
            --muted-gray: #6B7D7D;
            --olive-green: #87AE73;
            --linen: #FEEE2;
            --burnt-sienna: #D5896F;
            --white: #FFFFFF;
            --black: #000000;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-medium: rgba(0, 0, 0, 0.2);
            --shadow-dark: rgba(0, 0, 0, 0.3);
            --border-radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', Arial, Helvetica, sans-serif;
            line-height: 1.6;
            color: var(--deep-purple-gray);
            background-color: var(--white);
        }

        h1, h2, h3 {
            font-family: Georgia, 'Times New Roman', serif;
            font-weight: 600;
            line-height: 1.3;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 60px;
            color: var(--deep-purple-gray);
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .book-card {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 8px 25px var(--shadow-light);
            transition: all 0.3s ease;
            border: 1px solid rgba(135, 174, 115, 0.1);
        }

        .book-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px var(--shadow-medium);
        }

        .book-cover {
            aspect-ratio: 2/3;
            overflow: hidden;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .book-card:hover .book-cover img {
            transform: scale(1.05);
        }

        .book-info {
            padding: 20px;
        }

        .book-title {
            font-family: Georgia, 'Times New Roman', serif;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--deep-purple-gray);
            line-height: 1.3;
        }

        .book-author {
            color: var(--muted-gray);
            font-size: 0.95rem;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .book-review {
            font-size: 0.9rem;
            line-height: 1.6;
            color: var(--deep-purple-gray);
        }

        .placeholder-svg {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--muted-gray);
            font-family: Georgia, serif;
            font-size: 14px;
            text-align: center;
            padding: 20px;
        }

        .loading {
            opacity: 0.7;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .books-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .section-title {
                font-size: 2rem;
                margin-bottom: 40px;
            }
            
            .book-info {
                padding: 15px;
            }
            
            .book-title {
                font-size: 1.1rem;
            }
        }

        @media (min-width: 1200px) {
            .books-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }

        @media (min-width: 768px) and (max-width: 1199px) {
            .books-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <section id="favorites">
        <div class="container">
            <h2 class="section-title">‚≠ê My Favorite Reads (Top 10)</h2>
            <div class="books-grid" id="booksGrid"></div>
        </div>
    </section>

    <script>
        const TOP10 = [
            {
                title: "My Friends",
                author: "Fredrik Backman",
                review: "The language is stunning. If you need a heart-wrenching read that tears you apart and puts you back together at the same time, this is it. The unexpected twists and character arcs got me every time; it's carefully crafted and easily one of the best books I've ever read."
            },
            {
                title: "The Inheritance Games",
                author: "Jennifer Lynn Barnes",
                review: "I love the twists, the characters, and the mystery. I read it over a year ago and still think about it every day. The story clicks together in a beautiful chain of events that leads to an amazing conclusion."
            },
            {
                title: "Powerless",
                author: "Lauren Roberts",
                review: "This book was everything. I was skeptical about the hype, but it completely delivers. The plot and characters are fantastic, and they work together in a spectacular way."
            },
            {
                title: "The Queen's Gambit",
                author: "Walter Tevis",
                review: "The first book I ever felt was worth annotating. Watching this character grow through her journey is incredible, and the ending is the only way a masterpiece like this could close."
            },
            {
                title: "Eleanor & Park",
                author: "Rainbow Rowell",
                review: "This book has my heart forever. I often find myself on the closet floor rereading lines. The young love here fixes and breaks your heart over and over again. Un-put-down-able and a must-read."
            },
            {
                title: "Daughter of the Pirate King",
                author: "Tricia Levenseller",
                review: "One of the books that got me into reading. I loved seeing a female Jack Sparrow beat up some dudes. The romance subplot gave me even more to be excited about‚ÄîI absolutely love this book."
            },
            {
                title: "Six of Crows",
                author: "Leigh Bardugo",
                review: "The found-family energy is incredible. The heist is thrilling, and the twists and turns kept me hooked."
            },
            {
                title: "Blade of Secrets",
                author: "Tricia Levenseller",
                review: "A fresh take on a female main character who's brilliant and also a total bada**. I love her‚Äîand the romance subplot."
            },
            {
                title: "Check & Mate",
                author: "Ali Hazelwood",
                review: "A perfect YA that shows the ins and outs of chess and young love‚Äîone of my favorites from this author."
            },
            {
                title: "The Nightingale",
                author: "Kristin Hannah",
                review: "An amazing story of two sisters surviving in an oppressive world, coping differently and finding ways to live during World War II."
            }
        ];

        // Function to create SVG placeholder
        function createPlaceholderSVG(title) {
            return `
                <div class="placeholder-svg">
                    <div>
                        <div style="font-size: 24px; margin-bottom: 8px;">üìö</div>
                        <div style="font-weight: 600; margin-bottom: 4px;">${title}</div>
                        <div style="font-size: 12px; opacity: 0.7;">Cover not available</div>
                    </div>
                </div>
            `;
        }

        // Function to fetch book cover from Google Books API
        async function fetchBookCover(title, author) {
            try {
                const query = encodeURIComponent(`${title} ${author}`);
                const response = await fetch(
                    `https://www.googleapis.com/books/v1/volumes?q=${query}&maxResults=1&printType=books`
                );
                
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                
                const data = await response.json();
                
                if (data.items && data.items.length > 0) {
                    const book = data.items[0];
                    const imageLinks = book.volumeInfo?.imageLinks;
                    
                    if (imageLinks) {
                        // Try thumbnail first, then smallThumbnail
                        const coverUrl = imageLinks.thumbnail || imageLinks.smallThumbnail;
                        if (coverUrl) {
                            // Convert http to https
                            return coverUrl.replace('http://', 'https://');
                        }
                    }
                }
                
                return null;
            } catch (error) {
                console.warn(`Failed to fetch cover for "${title}" by ${author}:`, error);
                return null;
            }
        }

        // Function to create book card HTML
        function createBookCard(book, coverUrl) {
            const coverHtml = coverUrl 
                ? `<img src="${coverUrl}" alt="${book.title} cover" loading="lazy" onerror="this.parentElement.innerHTML = \`${createPlaceholderSVG(book.title)}\`">`
                : createPlaceholderSVG(book.title);

            return `
                <article class="book-card">
                    <div class="book-cover">
                        ${coverHtml}
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">${book.title}</h3>
                        <p class="book-author">by ${book.author}</p>
                        <p class="book-review">${book.review}</p>
                    </div>
                </article>
            `;
        }

        // Function to render all books
        async function renderBooks() {
            const grid = document.getElementById('booksGrid');
            
            // Show loading state
            grid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--muted-gray);">Loading your favorite books...</div>';
            
            const bookCards = [];
            
            // Process books in parallel for better performance
            const bookPromises = TOP10.map(async (book, index) => {
                const coverUrl = await fetchBookCover(book.title, book.author);
                return { book, coverUrl, index };
            });
            
            const results = await Promise.all(bookPromises);
            
            // Sort by original order and create cards
            results
                .sort((a, b) => a.index - b.index)
                .forEach(({ book, coverUrl }) => {
                    bookCards.push(createBookCard(book, coverUrl));
                });
            
            // Render all cards
            grid.innerHTML = bookCards.join('');
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', renderBooks);
    </script>
</body>
</html>
